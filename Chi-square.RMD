Title= "Chi-square"

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# R Portfolio 2: Chi-square

## Load the tidyverse

```{r T01}
library(tidyverse)
library(lsr)
```

## Load in the data

```{r T02}
# hint: name <- read_csv("file_name.csv")
study4_dat <- read_csv("RTA_Study4.csv")
```

## View the data

* `treat` is the experimental condition that participants were assigned to: 1 = rta condition, 0 = control condition
* `redeem` is whether participants redeemed the flyer (i.e., if they followed through on their intention): 1 = redeemed the flyer, 0 = did not redeem the flyer. 

## Count 1

```{r T03}
redeem_n <- count(study4_dat,redeem)
```

## Count 2

```{r T04}
treat_n <-count(study4_dat,treat)
```

## Count 3

```{r T05}
experimental_n <-count(study4_dat, redeem, treat)
```

## Bar plot

```{r factors}
# copy code from instructions here
study4_dat <- study4_dat %>%
  mutate(redeem = as.factor(redeem), 
         treat = as.factor(treat))
```

## Using `ggplot()` and `study4_dat` make a bar plot that shows the number of participants who redeemed the flyer in each experimental condition.  

```{r T06}
## ggplot code here 
ggplot(data = study4_dat, aes(x = treat, fill = redeem)) +
  geom_bar(position = "dodge") +
  scale_x_discrete(name = "Experimental Condition", labels = c("Control Flyer", "RTA Flyer")) +
  scale_y_continuous(name = "Number of Participants") +
  scale_fill_manual(name = "Behaviour", labels = c("Did Not Redeem", " Did Redeem"), values = c("pink", "grey"))+
  theme_minimal()
```

## Chi-square

```{r T07}
results <- chisq.test(x = study4_dat$treat, 
                      y = study4_dat$redeem,
                      correct = FALSE)
```

## Interpret the test

```{r T08}
results_chi <- 3.01
```

## Interpret the test

Look at the p-value for the test and then replace the `NULL` below with the number of the statement that is correct. 

1. The p-value is below .05 and is therefore significant.
2. The p-value is above .05 and is therefore significant.
3. The p-value is above .05 and is therefore not significant.
4. The p-value is below .05 and is therefore not significant. 

```{r T9}
answer_a9 <- 3
```

## Expected frequencies

To check the assumptions of the test, use code to view the expected frequencies and replace the `NULL` below with the lowest expected frequency to 2 decimal places. 

```{r T10}
lowest_expected <- 50.18
```

## Effect size

Replace the `NULL` below with code to calculate Cramerâ€™s V effect size using the `cramersV()` function from the `lsr` package and store this in the object `eff_size`.

```{r T11}
eff_size <- cramersV(x= study4_dat$treat, y= study4_dat$redeem, correct = FALSE)
```



Well done, you are finished! To ensure there are no issues with the file, please try knitting your markdown document. You should submit the raw .Rmd file (NOT the knitted html file) to the submission link on Moodle.

